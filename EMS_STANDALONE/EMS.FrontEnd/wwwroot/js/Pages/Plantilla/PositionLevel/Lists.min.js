var objPositionLevelListJS;const PositionLevelListURL="/Plantilla/PositionLevel?handler=List",PositionLevelAddURL="/Plantilla/PositionLevel/Add",PositionLevelViewURL="/Plantilla/PositionLevel/View",PositionLevelEditURL="/Plantilla/PositionLevel/Edit",PositionLevelDeleteURL="/Plantilla/PositionLevel/Delete",PositionLevelAddPostURL="/Plantilla/PositionLevel/Add",PositionLevelEditPostURL="/Plantilla/PositionLevel/Edit",GetCheckExportListURL="/Plantilla/PositionLevel?handler=CheckExportList",DownloadExportListURL="/Plantilla/PositionLevel?handler=DownloadExportList";$(document).ready(function(){objPositionLevelListJS={Initialize:function(){var n=this,t;n.ElementBinding();t={ID:localStorage.PlantillaPositionLevelListID,Description:localStorage.PlantillaPositionLevelListDescription};n.LoadJQGrid(t);n.GetLocalStorage()},ElementBinding:function(){var n=this;NumberOnly($("#txtFilterPositionLevelID"));$("#btnSearch").click(function(){var t={ID:$("#txtFilterPositionLevelID").val(),Description:$("#txtFilterDescription").val()};n.SetLocalStorage();ResetJQGridState("tblPlantillaPositionLevelList");n.LoadJQGrid(t)});$("#btnReset").click(function(){$("div.filterFields input").val("");$("div.filterFields select").val("");$("div.filterFields input[type='checkbox']").prop("checked",!0);$("#btnSearch").click()});$("#btnAdd").click(function(){LoadPartial(PositionLevelAddURL,"divPositionLevelBodyModal");$("#divPositionLevelModal").modal("show")});$("#btnExport").click(function(){ModalConfirmation(MODAL_HEADER,MSG_CONFIRM,"objPositionLevelListJS.ExportFunction()","function")})},ExportFunction:function(){var n="&sidx="+$("#tblPlantillaPositionLevelList").jqGrid("getGridParam","sortname")+"&sord="+$("#tblPlantillaPositionLevelList").jqGrid("getGridParam","sortorder")+"&ID="+$("#txtFilterPositionLevelID").val()+"&Description="+$("#txtFilterDescription").val(),t=function(t){t.IsSuccess==!0?(window.location=DownloadExportListURL+n,$("#divModal").modal("hide")):ModalAlert(MODAL_HEADER,t.Result)};objEMSCommonJS.GetAjax(GetCheckExportListURL+n,{},"#btnExport",t,null,!0)},LoadJQGrid:function(n){var r=this,t,i;Loading(!0);t=localStorage.getItem("tblPlantillaPositionLevelList")==""?"":$.parseJSON(localStorage.getItem("tblPlantillaPositionLevelList"));i=$(".jqgfirstrow").height();$(".jqgfirstrow td .filterFields").each(function(){$(this).appendTo("#filterFieldsContainer")});$(".jqgfirstrow").css({height:i+"px"});$("div.filterFields").unbind("keyup");$("div.filterFields").keyup(function(n){n.keyCode=="13"&&$("#btnSearch").click()});$("#tblPlantillaPositionLevelList").jqGrid("GridUnload");$("#tblPlantillaPositionLevelList").jqGrid("GridDestroy");$("#tblPlantillaPositionLevelList").jqGrid({url:PositionLevelListURL,postData:n,sortname:t==null?"":t.sortname,sortorder:t==null?"":t.sortorder,selrow:t==null?"":t.selrow,pageNumber:t==null?1:t.page,rowNum:t==null?10:t.rowNum,datatype:"json",mtype:"GET",colNames:["","ID","Description"],colModel:[{hidden:!0},{width:15,key:!0,name:"ID",index:"ID",align:"center",sortable:!0,formatter:objPositionLevelListJS.AddLink},{name:"Description",index:"Description",editable:!0,align:"left"},],toppager:$("#divPager"),rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!1,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,ondblClickRow:function(n,t){$("#tblPlantillaPositionLevelList tr:nth-child("+(t+1)+") .jqgrid-id-link").click()},loadComplete:function(n){if(Loading(!1),n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result))),n.rows!=null){if(n.rows.length>0)for(var t=0;t<n.rows.length;t++);AutoSizeColumnJQGrid("tblPlantillaPositionLevelList",n);$("#filterFieldsContainer .filterFields").each(function(n){$(this).appendTo(".jqgfirstrow td:nth-child("+(n+2)+")")});$("#tblPlantillaPositionLevelList .jqgrid-id-link").click(function(){$("#divPositionLevelModal").modal("show")})}localStorage.PositionLevelListFilterOption!=undefined&&$("#chkFilter").prop("checked",JSON.parse(localStorage.PositionLevelListFilterOption));objPositionLevelListJS.ShowHideFilter();$("#chkFilter").on("change",function(){objPositionLevelListJS.ShowHideFilter();localStorage.PositionLevelListFilterOption=$("#chkFilter").is(":checked")});$("table tr.jqgfirstrow td").each(function(n){var t=n+1;$("table .jqgfirstrow td:nth-child("+t+")").find("input[type='search']").length&&$("table .jqgfirstrow td:nth-child("+t+") input").val()!=""&&($(".ui-jqgrid-htable tr th:nth-child("+t+")").addClass("filtered"),$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").find("span.glyphicon-table-header").length==0&&$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").prepend('<span class="glyphicon glyphicon-filter glyphicon-table-header"><\/span>'));$("table .jqgfirstrow td:nth-child("+t+")").find("input[type='number']").length&&$("table .jqgfirstrow td:nth-child("+t+") input").val()!=""&&($(".ui-jqgrid-htable tr th:nth-child("+t+")").addClass("filtered"),$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").find("span.glyphicon-table-header").length==0&&$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").prepend('<span class="glyphicon glyphicon-filter glyphicon-table-header"><\/span>'));$("table .jqgfirstrow td:nth-child("+t+")").find("div.multiselect-control").length&&$("table .jqgfirstrow td:nth-child("+t+") div.multiselect-control").text()!=""&&($(".ui-jqgrid-htable tr th:nth-child("+t+")").addClass("filtered"),$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").find("span.glyphicon-table-header").length==0&&$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").prepend('<span class="glyphicon glyphicon-filter glyphicon-table-header"><\/span>'))})},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)},beforeRequest:function(){GetJQGridState("tblPlantillaPositionLevelList")}}).navGrid("#divPager",{edit:!1,add:!1,del:!1,search:!1,refresh:!1});jQuery(".ui-pg-selbox").closest("select").before('<label class="ui-row-label">Show<\/label>');jQuery(".ui-row-label").closest("label").before('<label class="ui-row-label" id="lblFilter">Show Filter<\/label>');jQuery("#lblFilter").after('<input type="checkbox" id="chkFilter" style="margin-right:15px; margin-top: 5px;"><\/div>')},SetLocalStorage:function(){localStorage.PlantillaPositionLevelListID=$("#txtFilterPositionLevelID").val();localStorage.PlantillaPositionLevelListDescription=$("#txtFilterDescription").val()},GetLocalStorage:function(){$("#txtFilterPositionLevelID").val(localStorage.PlantillaPositionLevelListID);$("#txtFilterDescription").val(localStorage.PlantillaPositionLevelListDescription)},AddLink:function(n,t,i){return"<a href=\"\" class='jqgrid-id-link' onclick=\"return LoadPartial('"+PositionLevelViewURL+"?ID="+i.ID+"', 'divPositionLevelBodyModal');\">"+objEMSCommonJS.JQGridIDFormat(i.ID)+"<\/a>"},ShowHideFilter:function(){$("#chkFilter").is(":checked")?$(".jqgfirstrow .filterFields").show():$("#chkFilter").is(":not(:checked)")&&$(".jqgfirstrow .filterFields").hide()}};objPositionLevelListJS.Initialize()});