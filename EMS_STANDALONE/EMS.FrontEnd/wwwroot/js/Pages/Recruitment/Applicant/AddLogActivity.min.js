var objAddLogActivityJS;$(document).ready(function(){objAddLogActivityJS={Initialize:function(){var n=this;$("#divLogActivityModal #btnSaveActivity").show();$("#divLogActivityModal .form-control").attr("readonly",!1);n.ElementBinding()},ElementBinding:function(){var n=this;$("#btnSaveActivity").click(function(){objEMSCommonJS.ValidateBlankFields("#frmLogActivity","#divLogActivityErrorMessage")&&ModalConfirmation(MODAL_HEADER,MSG_CONFIRM,"objEMSCommonJS.PostAjax(true                         , AddLogActivityPostURL                         , objAddLogActivityJS.GetFormData()                         , '#divLogActivityErrorMessage'                         , '#btnSaveActivity'                         , objAddLogActivityJS.AddSuccessFunction);","function")});$("#ddlType").change(function(){$(this).val().substr(2,1)=="1"?($("#divAssignUser").show(),$("#divLogActivityModal #divAssignUser .form-control").attr("readonly",!1),$("#divLogActivityModal #txtAssignedUser").addClass("required-field"),$("#divLogActivityModal label[for='txtAssignedUser'] span").addClass("reqField"),$("#divLogActivityModal label[for='txtAssignedUser'] span").removeClass("unreqField")):($("#divAssignUser").hide(),$("#divLogActivityModal #txtAssignedUser").removeClass("required-field"),$("#divLogActivityModal label[for='txtAssignedUser'] span").removeClass("reqField"),$("#divLogActivityModal label[for='txtAssignedUser'] span").addClass("unreqField"),$("#divLogActivityModal #divAssignUser .form-control").attr("readonly",!0))});objEMSCommonJS.BindAutoComplete("divLogActivityModal #txtAssignedUser",AssignedUserAutoComplete,20,"divLogActivityModal #hdnAssignedUserID","ID","Description")},GetFormData:function(){var n=new FormData($("#frmLogActivity").get(0));return n.append("TagToApplicantForm.ApplicantID",$("#divApplicantModal #hdnID").val()),n},AddSuccessFunction:function(){objLogActivityJS.LoadLogActivityJQGrid({ApplicantID:$("#divApplicantModal #hdnID").val()});$("#frmLogActivity").trigger("reset")},UpdateLink:function(n,t,i){return"<a href=\"\" class='activity-id-link' onclick=\"return LoadPartial('"+ApplicantViewURL+"?ID="+i.ID+"', 'divApplicantBodyModal');\">Update<\/a>"},AddPreloadedSuccessFunction:function(){objAddLogActivityJS.LoadLogActivityJQGrid({ApplicantID:$("#divApplicantModal #hdnID").val()})}};objAddLogActivityJS.Initialize()});
