var objApplicantViewJS,AttachmentTypeDropDownOptions=[];$(document).ready(function(){objApplicantViewJS={ID:$("#divApplicantModal #hdnID").val(),Initialize:function(){var n=this;n.ElementBinding();$(".reqField").addClass("unreqField");$(".reqField").removeClass("reqField");$("#btnAddAttachmentFields, .deleteAttachmentButtons").remove();$("#btnAddApplicationSource, #btnAddCourse, #lnkType").remove();$(".required-field").removeClass("required-field");$(".unreqField").remove();$("#divApplicantModal .form-control:not('#ddlMRF')").prop("disabled",!0);$(".AttachmentDynamicFields .form-control").attr("readonly",!0);objEMSCommonJS.ChangeTab($(".tablinks:nth-child(1)"),"tabPersonalInformation","#divApplicantModal");personalInfoTabFirstLoad=!1;attachmentTabFirstLoad=!1;appHistoryTabFirstLoad=!1;logActivityTabFirstLoad=!1;document.getElementById("txtCellphoneNumber").value=$("#txtCellphoneNumber").val().substr(3)},ElementBinding:function(){var n=this;$("#btnDelete").click(function(){ModalConfirmation(MODAL_HEADER,MSG_CONFIRM_DELETE_SINGLE,"objEMSCommonJS.PostAjax(false                     , ApplicantDeleteURL + '?ID=' + objApplicantViewJS.ID                    , {}                     , '#divApplicantErrorMessage'                     , '#btnDelete'                     , objApplicantViewJS.DeleteSuccessFunction);","function")});$("#dpBirthDate").datetimepicker({useCurrent:!1,format:"MM/DD/YYYY"});$("#dpDateApplied").datetimepicker({useCurrent:!1,format:"MM/DD/YYYY"});$("#ddlMRF").change(function(){if($(this).val()!=""){var n=$("#ddlMRF").val().split(",");objApplicantViewJS.WorkflowTransactionJQGrid({WorkflowID:parseInt(n[1]),MRFApplicantID:parseInt(n[0])})}else $("#tblApplicantWorkflowTransactionList").jqGrid("GridUnload"),$("#tblApplicantWorkflowTransactionList").jqGrid("GridDestroy")});$("#btnEdit").click(function(){LoadPartial(ApplicantEditURL+"?ID="+objApplicantViewJS.ID,"divApplicantBodyModal")});$(".tablinks").find("span:contains('Application History')").parent("button").click(function(){if(!appHistoryTabFirstLoad){var n=[],t=function(t){$(t.Result).each(function(t,i){n.push({Value:i.Value,Text:i.Text})});objEMSCommonJS.PopulateDropDown("#ddlMRF",n);$("#ddlMRF option").filter(function(){return $(this).text()==$("#hdnMRFTransactionID").val()}).prop("selected",!0);$("#ddlMRF").change()};objEMSCommonJS.GetAjax(MRFIDDropdownURL+"&ApplicantID="+$("#divApplicantModal #hdnID").val(),{},"",t);appHistoryTabFirstLoad=!0}});$(".tablinks").find("span:contains('Log Activity Checklist')").parent("button").click(function(){if(!logActivityTabFirstLoad){var n=function(){objLogActivityJS.IsViewMode=!0};return LoadPartialSuccessFunction(ApplicantLogActivityURL,"tabLogActivity",n),logActivityTabFirstLoad=!0,!1}})},DeleteSuccessFunction:function(){$("#btnSearch").click();$("#divApplicantModal").modal("hide")},WorkflowTransactionJQGrid:function(n){var t=this;Loading(!0);$("#tblApplicantWorkflowTransactionList").jqGrid("GridUnload");$("#tblApplicantWorkflowTransactionList").jqGrid("GridDestroy");$("#tblApplicantWorkflowTransactionList").jqGrid({url:WorkflowTransactionURL,postData:n,sortname:"",sortorder:"",selrow:"",pageNumber:1,rowNum:1e4,datatype:"json",mtype:"GET",colNames:["","Order","Step","Status","Date Scheduled","Date Completed","Timestamp","Remarks"],colModel:[{name:"",hidden:!0},{name:"Order",index:"Type",align:"left",sortable:!1,hidden:!0},{name:"Step",index:"Title",align:"left",sortable:!1},{name:"Status",index:"Status",align:"left",sortable:!1},{name:"DateScheduled",index:"DateScheduled",align:"center",sortable:!1},{name:"DateCompleted",index:"DateCompleted",align:"center",sortable:!1},{name:"Timestamp",index:"Timestamp",align:"center",sortable:!1},{name:"Remarks",index:"Remarks",align:"left",sortable:!1}],rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!1,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,loadComplete:function(n){if(Loading(!1),n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result))),n.rows!=null){if(n.rows.length>0)for(var t=0;t<n.rows.length;t++);AutoSizeColumnJQGrid("tblApplicantWorkflowTransactionList",n)}},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)}})}};objApplicantViewJS.Initialize()});