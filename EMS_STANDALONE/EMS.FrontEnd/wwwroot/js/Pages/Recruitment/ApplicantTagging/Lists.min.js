var objApplicantTaggingListJS;const ApplicantTaggingListURL="/Recruitment/ApplicantTagging?handler=List",ApplicantTaggingEditURL="/Recruitment/ApplicantTagging/Edit",OrgGroupAutoCompleteURL="/Recruitment/ApplicantTagging?handler=OrgLevelAutoComplete",PositionAutoCompleteURL="/Recruitment/ApplicantTagging?handler=PositionAutoComplete",ReferredByAutoCompleteURL="/Recruitment/ApplicantTagging?handler=ReferredByAutoComplete",GetApplicationSourceURL="/Recruitment/ApplicantTagging?handler=ReferenceValue&RefCode=APPLICATION_SOURCE",ApplicantViewURL="/Recruitment/Applicant/View",DownloadFileURL="/Recruitment/Applicant?handler=DownloadFile",CheckFileIfExistsURL="/Recruitment/Applicant?handler=CheckFileIfExists";$(document).ready(function(){objApplicantTaggingListJS={Initialize:function(){var n=this,t;n.ElementBinding();t={ID:localStorage.ApplicantTaggingID,ApplicantName:localStorage.ApplicantTaggingApplicantName,ApplicantSourceDelimited:localStorage.ApplicantTaggingApplicantSourceDelimited,PositionRemarks:localStorage.ApplicantTaggingPositionRemarks,ReferredBy:localStorage.ApplicantTaggingReferredBy};n.LoadJQGrid(t);n.GetLocalStorage()},ElementBinding:function(){var n=this;$("#btnSearch").click(function(){var t={ID:$("#txtFilterApplicantID").val(),ApplicantName:$("#txtFilterApplicantName").val(),ApplicationSourceDelimited:objEMSCommonJS.GetMultiSelectList("multiSelectedApplicationSource").value,PositionRemarks:$("#txtFilterPositionRemarks").val(),ReferredBy:objEMSCommonJS.GetMultiSelectList("multiSelectedReferredBy").value};n.SetLocalStorage();ResetJQGridState("tblApplicantTaggingList");n.LoadJQGrid(t)});$("#btnReset").click(function(){$("div.filterFields input[type='checkbox']").prop("checked",!0);$("div.filterFields input[type='search']").val("");$("#multiSelectedApplicationSource").html("");$("#multiSelectedReferredBy").html("");$("#btnSearch").click()});objEMSCommonJS.BindFilterMultiSelectEnum("multiSelectedApplicationSource",GetApplicationSourceURL);objEMSCommonJS.BindFilterMultiSelectAutoComplete("txtFilterReferredBy",ReferredByAutoCompleteURL,20,"multiSelectedReferredBy")},LoadJQGrid:function(n){var r=this,t,i;Loading(!0);t=localStorage.getItem("tblApplicantTaggingList")==""?"":$.parseJSON(localStorage.getItem("tblApplicantTaggingList"));i=function(){var n=$(".jqgfirstrow").height();$(".jqgfirstrow td .filterFields").each(function(){$(this).appendTo("#filterFieldsContainer")});$(".jqgfirstrow").css({height:n+"px"});$("div.filterFields").unbind("keyup");$("div.filterFields").keyup(function(n){n.keyCode=="13"&&$("#btnSearch").click()})};i();$("#tblApplicantTaggingList").jqGrid("GridUnload");$("#tblApplicantTaggingList").jqGrid("GridDestroy");$("#tblApplicantTaggingList").jqGrid({url:ApplicantTaggingListURL,postData:n,sortname:t==null?"":t.sortname,sortorder:t==null?"":t.sortorder,selrow:t==null?"":t.selrow,pageNumber:t==null?1:t.page,rowNum:t==null?10:t.rowNum,datatype:"json",mtype:"GET",colNames:["","ID","","Applicant Name","Application Source","Desired Position (Remarks)","Referred By (Tagged)"],colModel:[{hidden:!0},{width:25,key:!0,name:"ID",index:"ID",align:"center",sortable:!0,formatter:objApplicantTaggingListJS.ViewLink},{width:15,key:!0,name:"Tag",index:"ID",align:"center",sortable:!0,formatter:objApplicantTaggingListJS.TagLink},{name:"ApplicantName",index:"ApplicantName",align:"left",sortable:!0},{name:"ApplicationSource",index:"ApplicationSource",align:"left",sortable:!0},{name:"PositionRemarks",index:"PositionRemarks",align:"left",sortable:!0},{name:"ReferredBy",index:"ReferredBy",align:"left",sortable:!0},],toppager:$("#divPager"),rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!0,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,loadComplete:function(n){if(Loading(!1),n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result))),n.rows!=null){if(n.rows.length>0)for(var t=0;t<n.rows.length;t++);AutoSizeColumnJQGrid("tblApplicantTaggingList",n);$("#filterFieldsContainer .filterFields").each(function(n){$(this).appendTo(".jqgfirstrow td:nth-child("+(n+2)+")")})}localStorage.ApplicantTaggingListFilterOption!=undefined&&$("#chkFilter").prop("checked",JSON.parse(localStorage.ApplicantTaggingListFilterOption));objApplicantTaggingListJS.ShowHideFilter();$("#chkFilter").on("change",function(){objApplicantTaggingListJS.ShowHideFilter();localStorage.ApplicantTaggingListFilterOption=$("#chkFilter").is(":checked")});$(".ui-jqgrid-bdiv").css({"min-height":"400px"})},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)},beforeRequest:function(){GetJQGridState("tblApplicantTaggingList");i()}}).navGrid("#divPager",{edit:!1,add:!1,del:!1,search:!1,refresh:!1});jQuery(".ui-pg-selbox").closest("select").before('<label class="ui-row-label">Show<\/label>');jQuery(".ui-row-label").closest("label").before('<label class="ui-row-label" id="lblFilter">Show Filter<\/label>');jQuery("#lblFilter").after('<input type="checkbox" id="chkFilter" style="margin-right:15px; margin-top: 5px;"><\/div>')},SetLocalStorage:function(){localStorage.ApplicantTaggingID=$("#txtFilterApplicantID").val();localStorage.ApplicantTaggingID=$("#txtFilterApplicantID").val();localStorage.ApplicantTaggingApplicantName=$("#txtFilterApplicantName").val();localStorage.ApplicantTaggingApplicationSourceDelimited=objEMSCommonJS.GetMultiSelectList("multiSelectedApplicationSource").value;localStorage.ApplicantTaggingApplicationSourceDelimitedText=objEMSCommonJS.GetMultiSelectList("multiSelectedApplicationSource").text;localStorage.ApplicantTaggingPositionRemarks=$("#txtFilterPositionRemarks").val();localStorage.ApplicantTaggingReferredBy=objEMSCommonJS.GetMultiSelectList("multiSelectedReferredBy").value;localStorage.ApplicantTaggingReferredByText=objEMSCommonJS.GetMultiSelectList("multiSelectedReferredBy").text},GetLocalStorage:function(){$("#txtFilterApplicantID").val(localStorage.ApplicantListID);$("#txtFilterApplicantName").val(localStorage.ApplicantListApplicantName);objEMSCommonJS.SetMultiSelectList("multiSelectedApplicationSource","ApplicantListApplicationSourceDelimited","ApplicantListApplicationSourceDelimitedText");objEMSCommonJS.SetMultiSelectList("multiSelectedCurrentStep","ApplicantListCurrentStepDelimited","ApplicantListCurrentStepDelimitedText");objEMSCommonJS.SetMultiSelectList("multiSelectedWorkflow","ApplicantListWorkflowDelimited","ApplicantListWorkflowDelimitedText");$("#txtFilterPositionRemarks").val(localStorage.ApplicantListPositionRemarks);$("#txtFilterCourse").val(localStorage.ApplicantListCourse);$("#txtFilterCurrentPositionTitle").val(localStorage.ApplicantListCurrentPositionTitle);$("#txtFilterSalaryFrom").val(localStorage.ApplicantListExpectedSalaryFrom);$("#txtFilterSalaryTo").val(localStorage.ApplicantListExpectedSalaryTo)},ViewLink:function(n,t,i){return"<a href=\"\" class='jqgrid-id-link' onclick=\"objApplicantTaggingListJS.LoadApplicant('"+i.ID+"'); return false;\">"+i.ID+"<\/a>"},TagLink:function(n,t,i){return"<a href=\"\" class='jqgrid-id-link' onclick=\"objApplicantTaggingListJS.LoadTaggingModal('"+i.ID+"'); return false;\">Tag<\/a>"},LoadApplicant:function(n){var t=function(){$("#divApplicantModal #btnDelete, #divApplicantModal #btnEdit").remove()};LoadPartialSuccessFunction(ApplicantViewURL+"?ID="+n,"divApplicantBodyModal",t);$("#divApplicantModal").modal("show")},LoadTaggingModal:function(n){LoadPartial(ApplicantTaggingEditURL+"?ID="+n,"divApplicantTaggingBodyModal");$("#divApplicantTaggingModal").modal("show")},ShowHideFilter:function(){$("#chkFilter").is(":checked")?$(".jqgfirstrow .filterFields").show():$("#chkFilter").is(":not(:checked)")&&$(".jqgfirstrow .filterFields").hide()}};objApplicantTaggingListJS.Initialize()});