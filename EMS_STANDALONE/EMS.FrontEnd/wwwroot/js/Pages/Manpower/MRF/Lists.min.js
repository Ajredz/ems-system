var objMRFListJS,logActivityDeletedAttachments,LogActivityAttachmentTypeDropDownOptions,objEmployeeListJS,EmployeelogActivityDeletedAttachments,EmployeeLogActivityAttachmentTypeDropDownOptions,AccountabilityDeletedAttachments,AccountabilityAttachmentTypeDropDownOptions;const MRFListURL=window.location.pathname+"?handler=List",PositionLevelAutoCompleteURL=window.location.pathname+"?handler=PositionLevelAutoComplete",OrgGroupAutoCompleteURL=window.location.pathname+"?handler=OrgTypeAutoComplete",OrgGroupOrgTypeAutoCompleteURL=window.location.pathname+"?handler=OrgGroupByOrgTypeAutoComplete",PositionAutoCompleteURL=window.location.pathname+"?handler=PositionAutoComplete",GetNatureOfEmploymentURL=window.location.pathname+"?handler=ReferenceValue&RefCode=NATURE_OF_EMPLOYMENT",GetStatusURL=window.location.pathname+"?handler=ReferenceValue&RefCode=MRF_STATUS",GetApplicantStatusURL=window.location.pathname+"?handler=ReferenceValueByCodes&RefCodes=WORKFLOW_STATUS",GetPositionLevelDropDownByOrgGroupIDURL=window.location.pathname+"/View?handler=PositionLevelDropDownByOrgGroupID",GetPositionDropDownURL=window.location.pathname+"/View?handler=PositionDropDown",GetPositionDropDownWithCountURL=window.location.pathname+"/Add?handler=PositionDropDownWithCount",GetOrgGroupRollupPositionDropdownURL=window.location.pathname+"/Add?handler=OrgGroupRollupPositionDropdown",GetWorkflowDropDownURL=window.location.pathname+"?handler=WorkflowDropdown",GetWorkflowStepDropDownURL=window.location.pathname+"?handler=WorkflowStepDropdown",GetApprovalHistoryURL=window.location.pathname+"/View?handler=MRFApprovalHistory",GetRegionByIDURL=window.location.pathname+"/View?handler=RegionByID",ValidateExistingActualURL=window.location.pathname+"?handler=ValidateExistingActual",MRFAddURL=window.location.pathname+"/Add",MRFViewURL=window.location.pathname+"/View",MRFAddApplicantModalURL=window.location.pathname+"/AddApplicant",MRFAddApplicantModalSaveWorkflowURL=window.location.pathname+"/AddApplicant?handler=SaveWorkflow",MRFAddApplicantReferenceValueURL=window.location.pathname+"/AddApplicant?handler=ReferenceValue",MRFAddApplicantWorkflowStepURL=window.location.pathname+"/AddApplicant?handler=WorkflowStep",MRFAddApplicantWorkflowTransactionURL=window.location.pathname+"/AddApplicant?handler=WorkflowTransaction",MRFAddApplicantModalListURL=window.location.pathname+"/AddApplicant?handler=List",ApplicantPickerURL=window.location.pathname+"/ApplicantPicker",MRFAddApplicantModalRemoveApplicantURL=window.location.pathname+"/RemoveApplicant",MRFUpdateStatusURL=window.location.pathname+"/UpdateStatus",MRFUpdateForHiringURL=window.location.pathname+"/UpdateForHiringApplicant",ApplicantPickerPostURL=window.location.pathname+"/ApplicantPicker",MRFEditURL=window.location.pathname+"/Edit",MRFDeleteURL=window.location.pathname+"/Delete",MRFCancelURL=window.location.pathname+"/Cancel",MRFAddPostURL=window.location.pathname+"/Add?handler=Submit",MRFEditPostURL=window.location.pathname+"/Edit?handler=Submit",GetCheckMRFExportListURL=window.location.pathname+"?handler=CheckMRFExportList",DownloadMRFExportListURL=window.location.pathname+"?handler=DownloadMRFExportList",HRCancelMRFRequestURL=window.location.pathname+"/CancelMRF",RecruitmentApplicantPickerListURL=window.location.pathname+"?handler=ApplicantPickerList",GetMRFCommentsURL=window.location.pathname+"/View?handler=MRFComments",SaveMRFCommentsURL=window.location.pathname+"/View?handler=SaveComments",GetApplicantCommentsURL=window.location.pathname+"/AddApplicant?handler=MRFApplicantComments",SaveApplicantCommentsURL=window.location.pathname+"/AddApplicant?handler=SaveComments",GetApplicantInfoURL=window.location.pathname+"?handler=ApplicantInfo",AddSystemUserURL=window.location.pathname+"?handler=SystemUser",ConvertApplicantURL=window.location.pathname+"/UpdateStatus?handler=ConvertApplicant",CompanyDropDownURL=window.location.pathname+"?handler=CompanyDropDown",RecruitmentOrgGroupAutoCompleteURL="/Recruitment/Applicant?handler=OrgTypeAutoComplete",RecruitmentPositionAutoCompleteURL="/Recruitment/Applicant?handler=PositionAutoComplete",RecruitmentGetApplicationSourceURL="/Recruitment/Applicant?handler=ReferenceValue&RefCode=APPLICATION_SOURCE",RecruitmentGetCourseURL="/Recruitment/Applicant?handler=ReferenceValue&RefCode=COURSE",RecruitmentCurrentStepAutoCompleteURL="/Recruitment/Applicant?handler=CurrentStepAutoComplete&WorkflowCode=RECRUITMENT",RecruitmentReferredByAutoComplete="/Recruitment/Applicant?handler=ReferredBy",RecruitmentApplicantViewURL="/Recruitment/Applicant/View",CheckFileIfExistsURL="/Recruitment/Applicant?handler=CheckFileIfExists",DownloadFileURL="/Recruitment/Applicant?handler=DownloadFile",ApplicantEditURL="/Recruitment/Applicant/Edit",AttachmentTypeDropDown="/Recruitment/Applicant?handler=ReferenceValue&RefCode=ATTACHMENT_TYPE",ApplicantViewURL="/Recruitment/Applicant/View",ApplicantEditPostURL="/Recruitment/Applicant/Edit",AssignedUserAutoComplete="/Recruitment/Applicant?handler=AssignedUser",ApplicantLogActivityURL="/Recruitment/Applicant/_LogActivity",ApplicantLogActivityGetCurrentStatusURL="/Recruitment/Applicant?handler=WorkflowReferenceValue&RefCode=ACTIVITY_STAT_FILTER",ApplicantLogActivityGetTypeURL="/Recruitment/Applicant?handler=WorkflowReferenceValue&RefCode=ACTIVITY_TYPE",ApplicantUpdateAssignedUserURL="/Recruitment/Applicant/Edit?handler=UpdateAssignedUser",GetMRFIDByMRFTransactionIDURL="/Recruitment/Applicant?handler=MRFIDByMRFTransactionID",AddReferenceURL="/Recruitment/Applicant/AddReference",ReferencePostURL="/Recruitment/Applicant/AddReference?refcode=",ReferenceEditURL="/Recruitment/Applicant/EditReference",ReferenceEditPostURL="/Recruitment/Applicant/EditReference?refcode=",GetReferenceValueListURL="/Recruitment/Applicant/AddReference?handler=ReferenceValueList",GetProvinceDropDownByRegionURL="/Recruitment/Applicant?handler=ProvinceDropDownByRegion",GetCityMunicipalityDropDownByProvinceURL="/Recruitment/Applicant?handler=CityMunicipalityDropDownByProvince",GetBarangayDropDownByCityMunicipalityURL="/Recruitment/Applicant?handler=BarangayDropDownByCityMunicipality",AddPreLoadedActivitiesURL="/Recruitment/Applicant?handler=AddPreloadedActivities",AddLogActivityURL="/Recruitment/Applicant/AddLogActivity",AddLogActivityPostURL="/Recruitment/Applicant/AddLogActivity",UpdateLogActivityURL="/Recruitment/Applicant/UpdateLogActivity",UpdateLogActivityPostURL="/Recruitment/Applicant/UpdateLogActivity",GetLogActivitiesURL="/Recruitment/Applicant?handler=LogActivities",LogActivityByPreloadedIDURL="/Recruitment/Applicant?handler=LogActivityByPreloadedID",GetLogActivityStatusHistoryURL="/Recruitment/Applicant?handler=LogActivityStatusHistory",TitleTypeDropDownURL="/Recruitment/Applicant/AddLogActivity?handler=TitleTypeDropDown",SubTypeDropdownChangeURL="/Recruitment/Applicant/AddLogActivity?handler=SubType",LogActivityPreloadedDropDownURL="/Recruitment/Applicant?handler=LogActivityPreloadedDropDown",GetCommentsURL="/Recruitment/Applicant/UpdateLogActivity?handler=Comments",SaveCommentsURL="/Recruitment/Applicant/UpdateLogActivity?handler=SaveComments",GetAttachmentURL="/Recruitment/Applicant/UpdateLogActivity?handler=Attachment",SaveAttachmentURL="/Recruitment/Applicant/UpdateLogActivity?handler=SaveAttachment";logActivityDeletedAttachments=[];LogActivityAttachmentTypeDropDownOptions=[];const MRFIDDropdownURL="/Recruitment/Applicant?handler=MRFIDDropdown",WorkflowTransactionURL="/Recruitment/Applicant?handler=WorkflowTransaction",EmployeeAddURL="/Plantilla/Employee/Add",EmployeeAddPostURL="/Plantilla/Employee/Add",EmployeeEditURL="/Plantilla/Employee/Edit",EmployeeEditPostURL="/Plantilla/Employee/Edit",EmployeeViewURL="/Plantilla/Employee/View",OrgGroupDropDownURL="/Plantilla/Employee?handler=OrgGroupDropDown",PositionDropDownURL="/Plantilla/Employee?handler=PositionDropDown",SystemUserAutoCompleteURL="/Plantilla/Employee?handler=UserNameAutoComplete",ReferredByAutoComplete="/Plantilla/Employee?handler=ReferredBy",GetCityDropDownByRegionURL="/Plantilla/Employee?handler=CityDropDownByRegion",RelationshipDropDownURL="/Plantilla/Employee?handler=RelationshipDropDown",GetFamilyBackgroundURL="/Plantilla/Employee?handler=FamilyByEmployeeID",GetWorkingHistoryURL="/Plantilla/Employee?handler=WorkingHistoryByEmployeeID",GetEmployeeRovingURL="/Plantilla/Employee/View?handler=EmployeeRoving",GetSystemUserNameURL="/Plantilla/Employee/View?handler=SystemUserName",GetEmploymentStatusURL="/Plantilla/Employee?handler=EmploymentStatusByEmployeeID",GetRegionByOrgGroupIDURL="/Plantilla/Employee?handler=RegionByOrgGroupID",GetJobClassByPositionIDURL="/Plantilla/Employee?handler=JobClassByPositionID",EmployeeUpdateAssignedUserURL="/Plantilla/Employee/Edit?handler=UpdateAssignedUser",SchoolLevelDropDownURL="/Plantilla/Employee?handler=ReferenceValue&RefCode=EMP_SCHOOL_LEVEL",EducationalAttainmentDegreeDropDownURL="/Plantilla/Employee?handler=ReferenceValue&RefCode=EMP_ED_ATT_DEG",EducationalAttainmentStatusDropDownURL="/Plantilla/Employee?handler=ReferenceValue&RefCode=EMP_ED_ATT_STAT",GetEducationURL="/Plantilla/Employee?handler=EducationByEmployeeID";const EmployeeAddPreLoadedActivitiesURL="/Plantilla/Employee?handler=AddPreloadedActivities",EmployeeAddLogActivityURL="/Plantilla/Employee/AddLogActivity",EmployeeAddLogActivityPostURL="/Plantilla/Employee/AddLogActivity",EmployeeUpdateLogActivityURL="/Plantilla/Employee/UpdateLogActivity",EmployeeUpdateLogActivityPostURL="/Plantilla/Employee/UpdateLogActivity",EmployeeGetLogActivitiesURL="/Plantilla/Employee?handler=LogActivities",EmployeeLogActivityByPreloadedIDURL="/Plantilla/Employee?handler=LogActivityByPreloadedID",EmployeeGetLogActivityStatusHistoryURL="/Plantilla/Employee?handler=LogActivityStatusHistory",EmployeeTitleTypeDropDownURL="/Plantilla/Employee/AddLogActivity?handler=TitleTypeDropDown",EmployeeSubTypeDropdownChangeURL="/Plantilla/Employee/AddLogActivity?handler=SubType",EmployeeLogActivityPreloadedDropDownURL="/Plantilla/Employee?handler=LogActivityPreloadedDropDown",EmployeeGetCommentsURL="/Plantilla/Employee/UpdateLogActivity?handler=Comments",EmployeeSaveCommentsURL="/Plantilla/Employee/UpdateLogActivity?handler=SaveComments",EmployeeGetAttachmentURL="/Plantilla/Employee/UpdateLogActivity?handler=Attachment",EmployeeSaveAttachmentURL="/Plantilla/Employee/UpdateLogActivity?handler=SaveAttachment";EmployeelogActivityDeletedAttachments=[];EmployeeLogActivityAttachmentTypeDropDownOptions=[];const EmployeeLogActivityURL="/Plantilla/Employee/_LogActivity",EmployeeLogActivityGetCurrentStatusURL="/Plantilla/Employee?handler=WorkflowReferenceValue&RefCode=ACTIVITY_STAT_FILTER",EmployeeLogActivityGetTypeURL="/Plantilla/Employee?handler=WorkflowReferenceValue&RefCode=ACTIVITY_TYPE",AddPreLoadedAccountabilityURL="/Plantilla/Employee?handler=AddPreLoadedAccountability",AddAccountabilityURL="/Plantilla/Employee/AddAccountability",AddAccountabilityPostURL="/Plantilla/Employee/AddAccountability",UpdateAccountabilityURL="/Plantilla/Employee/UpdateAccountability",UpdateAccountabilityPostURL="/Plantilla/Employee/UpdateAccountability",GetAccountabilityURL="/Plantilla/Employee?handler=Accountability",AccountabilityDetailsByIDURL="/Plantilla/Employee?handler=AccountabilityDetailsByID",AccountabilityDropDownURL="/Plantilla/Employee?handler=AccountabilityDropDown",GetAccountabilityStatusHistoryURL="/Plantilla/Employee?handler=AccountabilityStatusHistory",GetAccountabilityCommentsURL="/Plantilla/Employee/UpdateAccountability?handler=Comments",SaveAccountabilityCommentsURL="/Plantilla/Employee/UpdateAccountability?handler=SaveComments",GetAccountabilityAttachmentURL="/Plantilla/Employee/UpdateAccountability?handler=Attachment",SaveAccountabilityAttachmentURL="/Plantilla/Employee/UpdateAccountability?handler=SaveAttachment";AccountabilityDeletedAttachments=[];AccountabilityAttachmentTypeDropDownOptions=[];const OnboardingWorkflowTransactionURL="/Plantilla/Employee?handler=OnboardingWorkflowTransaction",SaveOnboardingWorkflowURL="/Plantilla/Employee/Edit?handler=SaveOnboardingWorkflow",GetOnboardingWorkflowStepDropDownURL="/Plantilla/Employee?handler=WorkflowStepDropdown",ReferenceValueURL="/Plantilla/Employee/Edit?handler=ReferenceValue",OnboardingWorkflowStepURL="/Plantilla/Employee/Edit?handler=WorkflowStep",GetApplicantByMRFIDAndIDURL=window.location.pathname+"/AddApplicant?handler=ApplicantByMRFIDAndID",RegionAutoCompleteURL=window.location.pathname+"?handler=RegionAutoComplete",EmployeeGetMainAttachmentURL="/Plantilla/Employee?handler=MainAttachment",EmployeeSaveMainAttachmentURL="/Plantilla/Employee?handler=SaveMainAttachment";var EmployeeDeletedMainAttachments=[],workflowStepDropdownOptions=[],workflowStepResultDropdownOptions=[];$(document).ready(function(){objMRFListJS={Initialize:function(){var n,t;$("#divLogActivityAddPreloadedBodyModal .modal-header").mousedown(handle_mousedown);$("#divAccountabilityAddPreloadedBodyModal .modal-header").mousedown(handle_mousedown);$("#divAssignedUserModal .modal-header").mousedown(handle_mousedown);n=this;$("#txtFilterDateCreatedFrom, #txtFilterDateCreatedTo, #txtFilterDateApprovedFrom, #txtFilterDateApprovedTo, #txtFilterDateHiredFrom, #txtFilterDateHiredTo").datetimepicker({useCurrent:!1,format:"MM/DD/YYYY"});n.ElementBinding();t={ID:localStorage.ManpowerMRFListID,MRFTransactionID:localStorage.ManpowerMRFListMRFTransactionID,OrgGroupDelimited:localStorage.ManpowerMRFListOrgGroupDelimited,ScopeOrgType:$("#hdnOrgListFilter").val(),ScopeOrgGroupDelimited:localStorage.ManpowerMRFListScopeOrgGroupDelimited,PositionLevelDelimited:localStorage.ManpowerMRFListPositionLevelDelimited,PositionDelimited:localStorage.ManpowerMRFListPositionDelimited,NatureOfEmploymentDelimited:localStorage.ManpowerMRFListNatureOfEmploymentDelimited,NoOfApplicantMin:localStorage.ManpowerMRFListNoOfApplicantMin,NoOfApplicantMax:localStorage.ManpowerMRFListNoOfApplicantMax,StatusDelimited:localStorage.DashboardFilterStatus||localStorage.ManpowerMRFListStatusDelimited,DateCreatedFrom:localStorage.ManpowerMRFListDateCreatedFrom,DateCreatedTo:localStorage.ManpowerMRFListDateCreatedTo,DateApprovedFrom:localStorage.DashboardFilterDateApprovedFrom||localStorage.ManpowerMRFListDateApprovedFrom,DateApprovedTo:localStorage.DashboardFilterDateApprovedTo||localStorage.ManpowerMRFListDateApprovedTo,DateHiredFrom:localStorage.ManpowerMRFListDateHiredFrom,DateHiredTo:localStorage.ManpowerMRFListDateHiredTo,AgeMin:localStorage.DashboardFilterAgeMin||localStorage.ManpowerMRFListAgeMin,AgeMax:localStorage.DashboardFilterAgeMax||localStorage.ManpowerMRFListAgeMax};n.LoadJQGrid(t);n.GetLocalStorage()},ElementBinding:function(){var n=this;$("#divMRFList #btnSearch").click(function(){var t={ID:$("#divMRFList #txtFilterMRFID").val(),MRFTransactionID:$("#divMRFList #txtFilterMRFTransactionID").val(),OrgGroupDelimited:objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedOrgGroup").value,ScopeOrgType:$("#hdnOrgListFilter").val(),ScopeOrgGroupDelimited:objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedScopeOrgGroup").value,PositionLevelDelimited:objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPositionLevel").value,PositionDelimited:objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPosition").value,NatureOfEmploymentDelimited:objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedNatureOfEmployment").value,NoOfApplicantMin:$("#divMRFList #txtFilterNoOfApplicantMin").val(),NoOfApplicantMax:$("#divMRFList #txtFilterNoOfApplicantMax").val(),StatusDelimited:objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedStatus").value,DateCreatedFrom:$("#divMRFList #txtFilterDateCreatedFrom").val(),DateCreatedTo:$("#divMRFList #txtFilterDateCreatedTo").val(),DateApprovedFrom:$("#divMRFList #txtFilterDateApprovedFrom").val(),DateApprovedTo:$("#divMRFList #txtFilterDateApprovedTo").val(),DateHiredFrom:$("#divMRFList #txtFilterDateHiredFrom").val(),DateHiredTo:$("#divMRFList #txtFilterDateHiredTo").val(),AgeMin:$("#divMRFList #txtFilterAgeMin").val(),AgeMax:$("#divMRFList #txtFilterAgeMax").val()};n.SetLocalStorage();ResetJQGridState("#tblManpowerMRFList");n.LoadJQGrid(t)});$("#divMRFList #btnReset").click(function(){$("#divMRFList div.filterFields input[type='search']").val("");$("#divMRFList div.filterFields select").val("");$("#divMRFList div.filterFields input[type='checkbox']").prop("checked",!0);$("#divMRFList #multiSelectedOrgGroup").html("");$("#divMRFList #multiSelectedScopeOrgGroup").html("");$("#divMRFList #multiSelectedPositionLevel").html("");$("#divMRFList #multiSelectedPosition").html("");$("#divMRFList #multiSelectedNatureOfEmployment").html("");$("#divMRFList #multiSelectedNatureOfEmploymentOption label, #divMRFList #multiSelectedNatureOfEmploymentOption input").prop("title","add");$("#divMRFList #multiSelectedStatus").html("");$("#divMRFList #multiSelectedStatusOption label, #divMRFList #multiSelectedStatusOption input").prop("title","add");$("#divMRFList #btnSearch").click()});$("#divMRFList #btnAdd").click(function(){LoadPartial(MRFAddURL,"divMRFBodyModal");$("#divMRFModal").modal("show")});objEMSCommonJS.BindFilterMultiSelectAutoComplete("divMRFList #txtFilterOrgGroup",OrgGroupAutoCompleteURL,20,"divMRFList #multiSelectedOrgGroup");objEMSCommonJS.BindFilterMultiSelectAutoComplete("divMRFList #txtFilterScopeOrgGroup",OrgGroupOrgTypeAutoCompleteURL+"&OrgType="+$("#hdnOrgListFilter").val(),20,"divMRFList #multiSelectedScopeOrgGroup");objEMSCommonJS.BindFilterMultiSelectAutoComplete("divMRFList #txtFilterPositionLevel",PositionLevelAutoCompleteURL,20,"divMRFList #multiSelectedPositionLevel");objEMSCommonJS.BindFilterMultiSelectAutoComplete("divMRFList #txtFilterPosition",PositionAutoCompleteURL,20,"divMRFList #multiSelectedPosition");objEMSCommonJS.BindFilterMultiSelectEnum("divMRFList #multiSelectedNatureOfEmployment",GetNatureOfEmploymentURL);objEMSCommonJS.BindFilterMultiSelectEnum("divMRFList #multiSelectedStatus",GetStatusURL);$("#divMRFList #btnExport").click(function(){ModalConfirmation(MODAL_HEADER,MSG_CONFIRM,"objMRFListJS.ExportFunction()","function")})},ExportFunction:function(){var n="&sidx="+$("#tblManpowerMRFList").jqGrid("getGridParam","sortname")+"&sord="+$("#tblManpowerMRFList").jqGrid("getGridParam","sortorder")+"&ID="+$("#divMRFList #txtFilterMRFID").val()+"&MRFTransactionID="+$("#divMRFList #txtFilterMRFTransactionID").val()+"&OrgGroupDelimited="+objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedOrgGroup").value+"&ScopeOrgType="+$("#hdnOrgListFilter").val()+"&ScopeOrgGroupDelimited="+objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedScopeOrgGroup").value+"&PositionLevelDelimited="+objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPositionLevel").value+"&PositionDelimited="+objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPosition").value+"&NatureOfEmploymentDelimited="+objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedNatureOfEmployment").value+"&NoOfApplicantMin="+$("#divMRFList #txtFilterNoOfApplicantMin").val()+"&NoOfApplicantMax="+$("#divMRFList #txtFilterNoOfApplicantMax").val()+"&StatusDelimited="+objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedStatus").value+"&DateCreatedFrom="+$("#divMRFList #txtFilterDateCreatedFrom").val()+"&DateCreatedTo="+$("#divMRFList #txtFilterDateCreatedTo").val()+"&DateApprovedFrom="+$("#divMRFList #txtFilterDateApprovedFrom").val()+"&DateApprovedTo="+$("#divMRFList #txtFilterDateApprovedTo").val()+"&DateHiredFrom="+$("#divMRFList #txtFilterDateHiredFrom").val()+"&DateHiredTo="+$("#divMRFList #txtFilterDateHiredTo").val()+"&AgeMin="+$("#divMRFList #txtFilterAgeMin").val()+"&AgeMax="+$("#divMRFList #txtFilterAgeMax").val()+"&IsAdmin="+(window.location.pathname.indexOf("admin")>=0),t=function(t){t.IsSuccess==!0?(window.location=DownloadMRFExportListURL+n,$("#divModal").modal("hide")):ModalAlert(MODAL_HEADER,t.Result)};objEMSCommonJS.GetAjax(GetCheckMRFExportListURL+n,{},"#btnExport",t,null,!0)},LoadJQGrid:function(n){var r=this,t,i;Loading(!0);t=localStorage.getItem("tblManpowerMRFList")==""?"":$.parseJSON(localStorage.getItem("tblManpowerMRFList"));i=function(){var n=$("#divMRFList .jqgfirstrow").height();$("#divMRFList .jqgfirstrow td .filterFields").each(function(){$(this).appendTo("#divMRFList #filterFieldsContainer")});$("#divMRFList .jqgfirstrow").css({height:n+"px"});$("#divMRFList div.filterFields").unbind("keyup");$("#divMRFList div.filterFields").keyup(function(n){n.keyCode=="13"&&$("#divMRFList #btnSearch").click()})};i();$("#tblManpowerMRFList").jqGrid("GridUnload");$("#tblManpowerMRFList").jqGrid("GridDestroy");$("#tblManpowerMRFList").jqGrid({url:MRFListURL,postData:n,sortname:t==null?"":t.sortname,sortorder:t==null?"":t.sortorder,selrow:t==null?"":t.selrow,pageNumber:t==null?1:t.page,rowNum:t==null?10:t.rowNum,datatype:"json",mtype:"GET",colNames:["ID","Filter By Region","MRF ID","","Organizational Group","Position Level","Position","Nature of Employment","No. of Applicant","Status","Date Created","Date Approved","Date Hired","Age"],colModel:[{hidden:!0,key:!0,name:"ID",index:"ID",align:"center",sortable:!0},{hidden:!0,name:"ScopeOrgGroup",index:"ScopeOrgGroup",editable:!0,align:"left",sortable:!1},{name:"MRFID",index:"MRFID",align:"center",sortable:!0,formatter:objMRFListJS.AddLink},{name:"",index:"IsApproved",width:40,align:"center",sortable:!0,formatter:objMRFListJS.AddApplicantLink},{name:"OrgGroupDescription",index:"OrgGroupDescription",editable:!0,align:"left",sortable:!0},{name:"PositionLevelDescription",index:"PositionLevelDescription",editable:!0,align:"left",sortable:!0},{name:"PositionDescription",index:"PositionDescription",editable:!0,align:"left",sortable:!0},{name:"NatureOfEmployment",index:"NatureOfEmployment",editable:!0,align:"left",sortable:!0},{name:"NoOfApplicant",index:"NoOfApplicant",editable:!0,align:"center",sortable:!0},{name:"Status",index:"Status",editable:!0,align:"left",sortable:!0},{name:"CreatedDate",index:"CreatedDate",editable:!0,align:"left",sortable:!0},{name:"ApprovedDate",index:"ApprovedDate",editable:!0,align:"left",sortable:!0},{name:"HiredDate",index:"HiredDate",editable:!0,align:"left",sortable:!0},{name:"Age",index:"Age",editable:!0,align:"center",sortable:!0},],toppager:$("#divPager"),rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!1,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,ondblClickRow:function(n,t){$("#tblManpowerMRFList tr:nth-child("+(t+1)+") .jqgrid-id-link").click()},loadComplete:function(n){if(Loading(!1),n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result))),n.rows!=null){if(window.location.pathname.indexOf("admin")>=0&&$("#tblManpowerMRFList").jqGrid("showCol",["ScopeOrgGroup"]),n.rows.length>0)for(var t=0;t<n.rows.length;t++);AutoSizeColumnJQGrid("tblManpowerMRFList",n);$("#divMRFList #filterFieldsContainer .filterFields").each(function(n){$(this).appendTo("#divMRFList .jqgfirstrow td:nth-child("+(n+2)+")")});$("#tblManpowerMRFList .jqgrid-id-link").click(function(){$("#divMRFModal").modal("show")});$("#tblManpowerMRFList .jqgrid-id-link-applicant").click(function(){$("#divMRFAddApplicantModal").modal("show")})}localStorage.MRFListFilterOption!=undefined&&$("#chkFilter").prop("checked",JSON.parse(localStorage.MRFListFilterOption));objMRFListJS.ShowHideFilter();$("#chkFilter").on("change",function(){objMRFListJS.ShowHideFilter();localStorage.MRFListFilterOption=$("#chkFilter").is(":checked")});localStorage.ApplicantSelectedMRFID!=""&&$("#jqgrid-applicant-"+localStorage.ApplicantSelectedMRFID).click();localStorage.ApplicantSelectedMRFID="";$("#divMRFList .ui-jqgrid-bdiv").css({"min-height":"400px"});$("table tr.jqgfirstrow td").each(function(n){var t=n+1;$("table .jqgfirstrow td:nth-child("+t+")").find("input[type='search']").length&&$("table .jqgfirstrow td:nth-child("+t+") input").val()!=""&&($(".ui-jqgrid-htable tr th:nth-child("+t+")").addClass("filtered"),$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").find("span.glyphicon-table-header").length==0&&$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").prepend('<span class="glyphicon glyphicon-filter glyphicon-table-header"><\/span>'));$("table .jqgfirstrow td:nth-child("+t+")").find("input[type='number']").length&&$("table .jqgfirstrow td:nth-child("+t+") input").val()!=""&&($(".ui-jqgrid-htable tr th:nth-child("+t+")").addClass("filtered"),$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").find("span.glyphicon-table-header").length==0&&$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").prepend('<span class="glyphicon glyphicon-filter glyphicon-table-header"><\/span>'));$("table .jqgfirstrow td:nth-child("+t+")").find("div.multiselect-control").length&&$("table .jqgfirstrow td:nth-child("+t+") div.multiselect-control").text()!=""&&($(".ui-jqgrid-htable tr th:nth-child("+t+")").addClass("filtered"),$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").find("span.glyphicon-table-header").length==0&&$(".ui-jqgrid-htable tr th:nth-child("+t+").filtered div").prepend('<span class="glyphicon glyphicon-filter glyphicon-table-header"><\/span>'))})},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)},beforeRequest:function(){GetJQGridState("tblManpowerMRFList");i()}}).navGrid("#divPager",{edit:!1,add:!1,del:!1,search:!1,refresh:!1});jQuery(".ui-pg-selbox").closest("select").before('<label class="ui-row-label">Show<\/label>');jQuery(".ui-row-label").closest("label").before('<label class="ui-row-label" id="lblFilter">Show Filter<\/label>');jQuery("#lblFilter").after('<input type="checkbox" id="chkFilter" style="margin-right:15px; margin-top: 5px;"><\/div>')},SetLocalStorage:function(){localStorage.ManpowerMRFListID=$("#divMRFList #txtFilterMRFID").val();localStorage.ManpowerMRFListMRFTransactionID=$("#divMRFList #txtFilterMRFTransactionID").val();localStorage.ManpowerMRFListOrgGroupDelimited=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedOrgGroup").value;localStorage.ManpowerMRFListOrgGroupDelimitedText=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedOrgGroup").text;localStorage.ManpowerMRFListScopeOrgGroupDelimited=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedScopeOrgGroup").value;localStorage.ManpowerMRFListScopeOrgGroupDelimitedText=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedScopeOrgGroup").text;localStorage.ManpowerMRFListPositionLevelDelimited=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPositionLevel").value;localStorage.ManpowerMRFListPositionLevelDelimitedText=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPositionLevel").text;localStorage.ManpowerMRFListPositionDelimited=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPosition").value;localStorage.ManpowerMRFListPositionDelimitedText=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedPosition").text;localStorage.ManpowerMRFListNatureOfEmploymentDelimited=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedNatureOfEmployment").value;localStorage.ManpowerMRFListNatureOfEmploymentDelimitedText=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedNatureOfEmployment").text;localStorage.ManpowerMRFListNoOfApplicantMin=$("#divMRFList #txtFilterNoOfApplicantMin").val();localStorage.ManpowerMRFListNoOfApplicantMax=$("#divMRFList #txtFilterNoOfApplicantMax").val();localStorage.ManpowerMRFListStatusDelimited=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedStatus").value;localStorage.ManpowerMRFListStatusDelimitedText=objEMSCommonJS.GetMultiSelectList("divMRFList #multiSelectedStatus").text;localStorage.ManpowerMRFListDateCreatedFrom=$("#divMRFList #txtFilterDateCreatedFrom").val();localStorage.ManpowerMRFListDateCreatedTo=$("#divMRFList #txtFilterDateCreatedTo").val();localStorage.ManpowerMRFListDateApprovedFrom=$("#divMRFList #txtFilterDateApprovedFrom").val();localStorage.ManpowerMRFListDateApprovedTo=$("#divMRFList #txtFilterDateApprovedTo").val();localStorage.ManpowerMRFListDateHiredFrom=$("#divMRFList #txtFilterDateHiredFrom").val();localStorage.ManpowerMRFListDateHiredTo=$("#divMRFList #txtFilterDateHiredTo").val();localStorage.ManpowerMRFListAgeMin=$("#divMRFList #txtFilterAgeMin").val();localStorage.ManpowerMRFListAgeMax=$("#divMRFList #txtFilterAgeMax").val()},GetLocalStorage:function(){$("#divMRFList #txtFilterID").val(localStorage.ManpowerMRFListID);$("#divMRFList #txtFilterMRFTransactionID").val(localStorage.ManpowerMRFListMRFTransactionID);objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedOrgGroup","ManpowerMRFListOrgGroupDelimited","ManpowerMRFListOrgGroupDelimitedText");objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedScopeOrgGroup","ManpowerMRFListScopeOrgGroupDelimited","ManpowerMRFListScopeOrgGroupDelimitedText");objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedPositionLevel","ManpowerMRFListPositionLevelDelimited","ManpowerMRFListPositionLevelDelimitedText");objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedPosition","ManpowerMRFListPositionDelimited","ManpowerMRFListPositionDelimitedText");objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedNatureOfEmployment","ManpowerMRFListNatureOfEmploymentDelimited","ManpowerMRFListNatureOfEmploymentDelimitedText");$("#divMRFList #txtFilterNoOfApplicantMin").val(localStorage.ManpowerMRFListNoOfApplicantMin);$("#divMRFList #txtFilterNoOfApplicantMax").val(localStorage.ManpowerMRFListNoOfApplicantMax);localStorage.DashboardFilterStatus!=""?objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedStatus","DashboardFilterStatus","DashboardFilterStatusText"):objEMSCommonJS.SetMultiSelectList("divMRFList #multiSelectedStatus","ManpowerMRFListStatusDelimited","ManpowerMRFListStatusDelimitedText");$("#divMRFList #txtFilterDateCreatedFrom").val(localStorage.ManpowerMRFListDateCreatedFrom);$("#divMRFList #txtFilterDateCreatedTo").val(localStorage.ManpowerMRFListDateCreatedTo);$("#divMRFList #txtFilterDateApprovedFrom").val(localStorage.DashboardFilterDateApprovedFrom||localStorage.ManpowerMRFListDateApprovedFrom);$("#divMRFList #txtFilterDateApprovedTo").val(localStorage.DashboardFilterDateApprovedTo||localStorage.ManpowerMRFListDateApprovedTo);$("#divMRFList #txtFilterDateHiredFrom").val(localStorage.ManpowerMRFListDateHiredFrom);$("#divMRFList #txtFilterDateHiredTo").val(localStorage.ManpowerMRFListDateHiredTo);$("#divMRFList #txtFilterAgeMin").val(localStorage.DashboardFilterAgeMin||localStorage.ManpowerMRFListAgeMin);$("#divMRFList #txtFilterAgeMax").val(localStorage.DashboardFilterAgeMax||localStorage.ManpowerMRFListAgeMax);localStorage.DashboardFilterDateApprovedFrom="";localStorage.DashboardFilterDateApprovedTo="";localStorage.DashboardFilterAgeMin="";localStorage.DashboardFilterAgeMax="";localStorage.DashboardFilterStatus="";localStorage.DashboardFilterStatusText=""},AddLink:function(n,t,i){return"<a href=\"\" class='jqgrid-id-link' onclick=\"return LoadPartial('"+MRFViewURL+"?ID="+i.ID+"', 'divMRFBodyModal');\">"+i.MRFID+"<\/a>"},AddApplicantLink:function(n,t,i){return i.IsApproved?"<a href=\"\" class='jqgrid-id-link-applicant' id='jqgrid-applicant-"+i.ID+"' onclick=\"return LoadPartial('"+MRFAddApplicantModalURL+"?ID="+i.ID+'\', \'divMRFAddApplicantBodyModal\');"><span class="btn-glyph-dynamic"><span class="glyphicon glyphicon-user"><\/span><\/span><\/a>':""},LoadApprovalHistoryJQGrid:function(n){var t=this;Loading(!0);$("#tblMRFFormApprovalHistoryList").jqGrid("GridUnload");$("#tblMRFFormApprovalHistoryList").jqGrid("GridDestroy");$("#tblMRFFormApprovalHistoryList").jqGrid({url:GetApprovalHistoryURL,postData:n,sortname:"",sortorder:"",selrow:"",pageNumber:1,rowNum:10,datatype:"json",mtype:"GET",colNames:["Level","Approver Name","Status","Remarks","Timestamp","","",""],colModel:[{name:"HierarchyLevel",index:"HierarchyLevel",align:"center",sortable:!1},{name:"ApproverName",index:"ApproverName",align:"left",sortable:!1},{name:"ApprovalStatus",index:"ApprovalStatus",align:"left",sortable:!1},{name:"ApprovalRemarks",index:"ApprovalRemarks",align:"left",sortable:!1},{name:"ApprovedDate",index:"ApprovedDate",align:"left",sortable:!1},{hidden:!0,name:"PositionID",index:"PositionID",align:"left",sortable:!1},{hidden:!0,name:"OrgGroupID",index:"OrgGroupID",align:"left",sortable:!1},{hidden:!0,name:"ApprovalStatusCode",index:"ApprovalStatusCode",align:"left",sortable:!1},],rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!1,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,loadComplete:function(n){if(Loading(!1),n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result))),n.rows!=null){if(n.rows.length>0)for(var t=0;t<n.rows.length;t++);AutoSizeColumnJQGrid("tblMRFFormApprovalHistoryList",n);$("#hdnStatusCode").val()=="HR_CANCELLED"&&($("#divMRFButtons").hide(),$("tr.jqgrow td[aria-describedby='tblMRFFormApprovalHistoryList_ApprovalStatus']").css({"text-decoration":"line-through"}),$("#tblMRFFormApprovalHistoryList").jqGrid("addRowData",0,{HierarchyLevel:"N/A",ApproverName:"HR",ApprovalStatus:$("#lblMRFStatus").text(),ApprovalRemarks:$("#txtReasonForCancellation").val(),ApprovedDate:$("#hdnDateModified").val()}))}},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)}})},GetComment:function(){var t={MRFID:$("#hdnID").val()},n;$("#txtAreaComments").val("");n=function(n){n.IsSuccess==!0&&($("#divCommentsContainer").html(""),n.Result.length>0?($("#divCommentsContainer").append("<span class='comment-header'>-- Start --<\/span>"),$(n.Result).each(function(t,i){$("#divCommentsContainer").append("<span class='comment-details'>"+i.Timestamp+" "+i.Sender+": <\/span><span class='comment'> "+i.Comments+"<\/span><br>");n.Result.length<=t+1&&setTimeout(function(){$("#divCommentsContainer").scrollTop($("#divCommentsContainer")[0].scrollHeight)},300)})):$("#divCommentsContainer").append("<span class='comment-header'>-- No comments found. --<\/span>"),$("#txtAreaComments").attr("readonly",!1),$("#txtAreaComments").prop("disabled",!1))};objEMSCommonJS.GetAjax(GetMRFCommentsURL,t,"",n)},GetCommentSectionFormData:function(){var n=new FormData($("#frmMRF").get(0));return n.append("CommentsForm.MRFID",$("#hdnID").val()),n.append("CommentsForm.Comments",$("#txtAreaComments").val()),n},ShowHideFilter:function(){$("#chkFilter").is(":checked")?$(".jqgfirstrow .filterFields").show():$("#chkFilter").is(":not(:checked)")&&$(".jqgfirstrow .filterFields").hide()}};objMRFListJS.Initialize();objEmployeeListJS={OnboardingWorkflowTransactionJQGrid:function(n){var t=this;Loading(!0);$("#tblWorkflowTransactionList").jqGrid("GridUnload");$("#tblWorkflowTransactionList").jqGrid("GridDestroy");$("#tblWorkflowTransactionList").jqGrid({url:OnboardingWorkflowTransactionURL,postData:n,sortname:"",sortorder:"",selrow:"",pageNumber:1,rowNum:1e4,datatype:"json",mtype:"GET",colNames:["","Order","Step","Status","Date Scheduled","Date Completed","Timestamp","Remarks"],colModel:[{name:"",hidden:!0},{name:"Order",index:"Type",align:"left",sortable:!1,hidden:!0},{name:"Step",index:"Title",align:"left",sortable:!1},{name:"Status",index:"Status",align:"left",sortable:!1},{name:"DateScheduled",index:"DateScheduled",align:"left",sortable:!1},{name:"DateCompleted",index:"DateCompleted",align:"left",sortable:!1},{name:"Timestamp",index:"Timestamp",align:"left",sortable:!1},{name:"Remarks",index:"Remarks",align:"left",sortable:!1}],rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!1,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,loadComplete:function(n){if(Loading(!1),n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result))),n.rows!=null){if(n.rows.length>0)for(var t=0;t<n.rows.length;t++);AutoSizeColumnJQGrid("tblWorkflowTransactionList",n)}},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)}})},LoadEmploymentStatusJQGrid:function(n){var t=this;Loading(!0);$("#tblEmploymentStatusList").jqGrid("GridUnload");$("#tblEmploymentStatusList").jqGrid("GridDestroy");$("#tblEmploymentStatusList").jqGrid({url:GetEmploymentStatusURL,postData:n,sortname:"",sortorder:"",selrow:"",pageNumber:1,rowNum:1e4,datatype:"json",mtype:"GET",colNames:["Status","Date Effective"],colModel:[{name:"EmploymentStatus",index:"EmploymentStatus",align:"left",sortable:!1},{name:"DateEffective",index:"DateEffective",align:"left",sortable:!1},],rowList:SetRowList(),loadonce:!1,viewrecords:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1},emptyrecords:"No records to display",multiselect:!1,rowNumbers:!0,width:"100%",height:"100%",sortable:!0,loadComplete:function(n){Loading(!1);n.IsSuccess!=undefined&&(n.IsSuccess||($("#divErrorMessage").html(""),ModalAlert(MODAL_HEADER,n.Result)));n.rows!=null&&(AutoSizeColumnJQGrid("tblEmploymentStatusList",n),$("#tblEmploymentStatusList_subgrid").width(20),$(".jqgfirstrow td:first").width(20))},loadError:function(n){ModalAlert(MODAL_HEADER,n.responseText);Loading(!1)}})}}});